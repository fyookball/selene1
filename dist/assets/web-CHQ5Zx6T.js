import{W as v,__tla as y}from"./index-D3zsSM2q.js";import"torboar";let p,m=Promise.all([(()=>{try{return y}catch{}})()]).then(async()=>{p=class extends v{async getId(){return{identifier:this.getUid()}}async getInfo(){if(typeof navigator>"u"||!navigator.userAgent)throw this.unavailable("Device API not available in this browser");const t=navigator.userAgent,e=this.parseUa(t);return{model:e.model,platform:"web",operatingSystem:e.operatingSystem,osVersion:e.osVersion,manufacturer:navigator.vendor,isVirtual:!1,webViewVersion:e.browserVersion}}async getBatteryInfo(){if(typeof navigator>"u"||!navigator.getBattery)throw this.unavailable("Device API not available in this browser");let t={};try{t=await navigator.getBattery()}catch{}return{batteryLevel:t.level,isCharging:t.charging}}async getLanguageCode(){return{value:navigator.language.split("-")[0].toLowerCase()}}async getLanguageTag(){return{value:navigator.language}}parseUa(t){const e={},x=t.indexOf("(")+1;let r=t.indexOf(") AppleWebKit");t.indexOf(") Gecko")!==-1&&(r=t.indexOf(") Gecko"));const o=t.substring(x,r);if(t.indexOf("Android")!==-1){const i=o.replace("; wv","").split("; ").pop();i&&(e.model=i.split(" Build")[0]),e.osVersion=o.split("; ")[1]}else if(e.model=o.split("; ")[0],typeof navigator<"u"&&navigator.oscpu)e.osVersion=navigator.oscpu;else if(t.indexOf("Windows")!==-1)e.osVersion=o;else{const i=o.split("; ").pop();if(i){const n=i.replace(" like Mac OS X","").split(" ");e.osVersion=n[n.length-1].replace(/_/g,".")}}/android/i.test(t)?e.operatingSystem="android":/iPad|iPhone|iPod/.test(t)&&!window.MSStream?e.operatingSystem="ios":/Win/.test(t)?e.operatingSystem="windows":/Mac/i.test(t)?e.operatingSystem="mac":e.operatingSystem="unknown";const a=!!window.ApplePaySession,u=!!window.chrome,w=/Firefox/.test(t),s=/Edg/.test(t),l=/FxiOS/.test(t),g=/CriOS/.test(t),c=/EdgiOS/.test(t);if(a||u&&!s||l||g||c){let i;l?i="FxiOS":g?i="CriOS":c?i="EdgiOS":a?i="Version":i="Chrome";const n=t.split(" ");for(const d of n)if(d.includes(i)){const f=d.split("/")[1];e.browserVersion=f}}else if(w||s){const i=t.split("").reverse().join("").split("/")[0].split("").reverse().join("");e.browserVersion=i}return e}getUid(){if(typeof window<"u"&&window.localStorage){let t=window.localStorage.getItem("_capuid");return t||(t=this.uuid4(),window.localStorage.setItem("_capuid",t),t)}return this.uuid4()}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}}});export{p as DeviceWeb,m as __tla};
