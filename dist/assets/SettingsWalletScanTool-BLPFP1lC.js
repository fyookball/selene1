import{X as M,c as U,e as W,ah as D,b as F,Y as O,ai as H,r as l,j as e,V as T,p as X,ad as t,__tla as E}from"./index-D3zsSM2q.js";import"torboar";let j,V=Promise.all([(()=>{try{return E}catch{}})()]).then(async()=>{j=function(){const{walletHash:g}=M();U(W),D(),F();const a=O().getWallet(g),u=H(a),o=u.getReceiveAddresses(),h=u.getChangeAddresses(),m=o.filter(s=>s.state===null),p=h.filter(s=>s.state===null),[b,v]=l.useState(""),[x,n]=l.useState(0),[d,y]=l.useState(0),[i,A]=l.useState(1e3),[c,C]=l.useState(1200),[r,N]=l.useState(-1),w=async()=>{const s=await t(a).scanDerivationPaths();v(s)},f=s=>{y(Number.parseInt(s.target.value))},S=s=>{A(Number.parseInt(s.target.value))},k=s=>{C(Number.parseInt(s.target.value))},R=s=>{N(Number.parseInt(s.target.value))},_=async()=>{n(-1);let s=[];switch(r){case 0:case 1:s=await t(a).scanAddresses(d,i,r);break;case-1:default:s=(await Promise.all([t(a).scanAddresses(d,i,0),t(a).scanAddresses(d,i,1)])).flat();break}n(s.length)},P=async()=>{n(-1);let s=[];switch(r){case 0:case 1:s=await t(a).scanMoreAddresses(c,r);break;case-1:default:s=(await Promise.all([t(a).scanMoreAddresses(c,0),t(a).scanMoreAddresses(c,1)])).flat();break}n(s.length)},I=async()=>{n(-1),await t(a).rebuildWallet(),n(-99)};return e.jsxs(e.Fragment,{children:[e.jsx(T,{icon:X,title:"Address Scan Tool"}),e.jsxs("div",{className:"p-1",children:[e.jsxs("div",{className:"flex mb-1",children:[e.jsx("button",{type:"button",onClick:w,className:"border border-primary p-1",children:"Scan Derivation Paths"}),e.jsx("button",{type:"button",onClick:I,className:"border border-primary p-1",children:"Rebuild Wallet"})]}),e.jsx("div",{children:e.jsxs("select",{className:"text-sm p-2 my-1",value:r,onChange:R,children:[e.jsx("option",{value:-1,children:"Receive/Change"}),e.jsx("option",{value:0,children:"Receive Only"}),e.jsx("option",{value:1,children:"Change Only"})]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("input",{className:"w-32",type:"number",value:d,onChange:f,min:"0",step:"1"}),e.jsx("input",{className:"w-32",type:"number",value:i,onChange:S,min:"1",step:"1"}),e.jsx("button",{type:"button",className:"p-1 border border-primary grow",onClick:_,children:"Scan"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",value:c,onChange:k}),e.jsx("button",{type:"button",className:"p-1 border border-primary",onClick:P,children:"Scan More"})]}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Receive Addresses: ",o.length]}),e.jsxs("li",{children:["Used Receive Addresses:"," ",o.length-m.length]}),e.jsxs("li",{children:["Unused Receive Addresses: ",m.length]})]}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Change Addresses: ",h.length]}),e.jsxs("li",{children:["Used Change Addresses:"," ",h.length-p.length]}),e.jsxs("li",{children:["Unused Change Addresses: ",p.length]})]})]}),b!==""&&e.jsxs("div",{children:["Found addresses on ",b]}),x!==0&&e.jsxs("div",{children:["Scanned ",x," addresses"]})]})}});export{V as __tla,j as default};
